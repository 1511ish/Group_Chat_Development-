<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="/css/main.css">
    <title>Group chat app</title>
</head>

<body>
    <div id="container">
        <form id="groupForm">
            <h4>Create new group</h4>
            <hr>
            <div class="profile_container">
                <img id="preview1" src="/img/people.png">
            </div>
            <!-- <div class="profile_container">
                <img id="preview2" src="">
            </div> -->
            <div class="avatar-upload">
                <input type="file" class="avatar" id="id" name="profile" accept="image/*"
                    onchange="previewImage1(event)">
                <label for="id" class="fa-solid fa-user-pen"></label>
            </div>
            <div class="bundle">
                <label for="groupName">Group Name:</label>
                <input type="text" id="groupName" name="groupName" required>
            </div>
            <div class="bundle">
                <label for="description">Group Description:</label>
                <textarea name="description" id="description" cols="30" rows="2"></textarea required>
            </div>
            <fieldset class="users">
                <legend>Select Members:</legend>
                <input type="text" id="userSearch" placeholder="Search users...">
                <div id="userList">
                </div>
            </fieldset>
            <div id="btn_div">
                <button id="cancel_btn" class="cancel_btn">Cancel</button>
                <!-- <button type="submit" onclick="trial(e)">Create group</button> -->
                <button type="submit" >Create group</button>
            </div>
        </form> 
        <div id="group_related_container">
            
            <button id="back" onclick="hideMenu()">
                <img src="/img/arrow_back.png" alt="Back" class="back_icon">
                Back to the chat
            </button>
            <button id="create_newgroup_btn">Create new group</button>
            <ul id="group_container">
                <!-- <li>Comman-group</li> -->
            </ul>
        </div>
        <div id="chat_container">
            <div id="expanded-image" onclick="closeExpandedImage()">
                <img src="" alt="Expanded Image">
            </div>
            <div id="group_header">
                <!-- <img src="https://picsum.photos/seed/common/200" alt="Profile Picture" id="group_img"> -->
                <!-- <img src="/img/group-team.PNG" alt="Profile Picture" id="group_img"> -->
                <div id="img_div">
                    <img src="/img/arrow_back.png" alt="Back" class="back_icon" onclick="showMenu()">
                    <img src="/img/people.png" alt="Profile Picture" id="group_img">
                </div>
                <h3><strong class="mb-1" id="group_heading">Demo Group Chatbox</strong></h3>
                <div>
                    <small id="group_members"
                    title="All Members can access this group !">All Members</small>
                    <div class="options">
                        <i class="fa-solid fa-ellipsis-vertical d-none dots" id="three_dotes"></i>
                        <div class="options_menu">
                        </div>
                    
                        <form id="view_groupProfile_form" style="visibility: hidden;">
                            <div class="form-header">
                               <h4>Group Profile</h4>
                               <i class="fa-solid fa-xmark" onclick="closeForm('view_groupProfile_form')"></i>
                            </div>
                            <hr>
                            <div class="profile_container">
                                <img id="preview2" src="">
                            </div>
                            <div class="avatar-upload">
                                    <input type="file" class="avatar" id="avatar-upload2" name="avatar-upload2"  onchange="previewImage3(event)" accept="image/*">
                            </div>
                            <div class="VGP-bundle">
                                    <b id="VGP_groupname">Group groupName</b>
                            </div>
                            <div class="VGP-bundle">
                                    <p id="VGP_description">Group Description</p>
                            </div>
                        </form> 
                        <form id="group_profile_edit_Form">
                            <div class="form-header">
                               <h4>Edit Group Profile</h4>
                               <i class="fa-solid fa-xmark" onclick="closeForm('group_profile_edit_Form')"></i>
                            </div>
                            <hr>
                            <div class="profile_container">
                                <img id="preview3" src="">
                            </div>
    
                            <div class="avatar-upload">
                                    <input type="file" class="avatar" id="avatar-upload3" name="avatar-upload3"  onchange="previewImage3(event)" accept="image/*">
                                    <label for="avatar-upload3" class="fa-solid fa-user-pen"></label>
                            </div>
                            <div class="bundle">
                                    <label for="groupEditName">Group Name:</label>
                                    <input type="text" id="groupEditName" name="groupEditName" required>
                            </div>
                            <div class="bundle">
                                    <label for="edit_description">Group Description:</label>
                                    <textarea name="edit_description" id="edit_description" cols="30" rows="2"></textarea required>
                            </div>
                            <div id="GPEbtn_div">
                                <button id="update_cancel_btn" class="cancel_btn" type="button" onclick="closeForm('group_profile_edit_Form')">Cancel</button>
                                <button id="update_profile" type="submit">Update Profile</button>
                            </div>
                        </form> 
                        <form id="add_user_form">
                            <h4>Add Users</h4>
                            <fieldset class="users">
                                <legend>Select Members:</legend>
                                <input type="text" id="adduserSearch" placeholder="Search users...">
                                <div id="adduserList">

                                </div>
                            </fieldset>
                            <div id="btn_div">
                                <button id="add_cancel_btn"  class="cancel_btn" onclick="closeForm('add_user_form')">Cancel</button>
                            
                                <button type="submit">Add User</button>
                            </div>
                        </form>
                        <form id="remove_user_form">
                            <h4>Remove user form group</h4>
                            <fieldset class="users">
                                <legend>Select Members:</legend>
                                <input type="text" id="removeuserSearch" placeholder="Search users...">
                                <div id="removeuserList">

                                </div>
                            </fieldset>
                            <div id="btn_div">
                                <button  class="cancel_btn" id="remove_cancel_btn">Cancel</button>
                                <button type="submit">Remove User</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <div id="chat_body">
                <div class="card incoming">
                    <small class="text-danger">sonu</small>
                    <p class="chat">This is an incoming message.</p>
                    <small class="text-muted text-end">16 Feb, 2024 06:33 AM</small>
                </div>
                <div class="card outgoing">
                    <small class="text-primary">sonu</small>
                    <p class="chat">This is an outgoing message.</p>
                    <small class="text-muted text-end">16 Feb, 2024 06:33 AM</small>
                </div>
                <div class="card incoming">
                    <small class="text-danger">sonu</small>
                    <p class="chat">Another incoming message hereðŸ’–.</p>
                    <small class="text-muted text-end">16 Feb, 2024 06:33 AM</small>
                </div>
                <div class="card outgoing">
                    <small class="text-primary">sonu</small>
                    <p class="chat">Another outgoing message here.</p>
                    <small class="text-muted text-end">16 Feb, 2024 06:33 AM</small>
                </div>
            </div>
            <div id="group_bottom">
                 <form id="message_form" enctype="multipart/form-data">
                    <div>
                        <div id="preview">
                        </div>
                        <div>
                            <input type="text" name="message" placeholder="Type your message" id="message_field">
                            <input type="file" name="media" accept="image/*, video/*" id="fileType" style="display: none;">
                            <label for="fileType">
                               <i class="fa-solid fa-paperclip"></i>
                            </label>
                        </div>
                    </div>
                    <button type="submit" class="fa-solid fa-paper-plane send_btn"></button>
                </form>
            </div>
        </div>
    </div>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="/js/main.js"></script> 
    
    <script>
        function closeForm(id) {
            const form = document.getElementById(id);
            form.style.visibility = 'hidden';
        }
        function previewImage1(event) {
            var preview = document.getElementById('preview1')
            preview.src = URL.createObjectURL(event.target.files[0]);
        }
        function previewImage3(event) {
            var preview = document.getElementById('preview3');
            preview.src = URL.createObjectURL(event.target.files[0]);
        }
    </script>
</body>

</html>